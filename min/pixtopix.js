window.Modernizr=function(e,t,n){function o(e){c.cssText=e}function i(e,t){return typeof e===t}var r,a,A,s="2.7.1",d={},p=t.documentElement,l="modernizr",u=t.createElement(l),c=u.style,h=({}.toString,{}),g=[],f=g.slice,m=function(){function e(e,r){r=r||t.createElement(o[e]||"div"),e="on"+e;var a=e in r;return a||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),a=i(r[e],"function"),i(r[e],"undefined")||(r[e]=n),r.removeAttribute(e))),r=null,a}var o={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),y={}.hasOwnProperty;A=i(y,"undefined")||i(y.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return y.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=f.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=t.prototype;var r=new i,a=t.apply(r,n.concat(f.call(arguments)));return Object(a)===a?a:r}return t.apply(e,n.concat(f.call(arguments)))};return o}),h.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e};for(var v in h)A(h,v)&&(a=v.toLowerCase(),d[a]=h[v](),g.push((d[a]?"":"no-")+a));return d.addTest=function(e,t){if("object"==typeof e)for(var o in e)A(e,o)&&d.addTest(o,e[o]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(p.className+=" "+(t?"":"no-")+e),d[e]=t}return d},o(""),u=r=null,d._version=s,d.hasEvent=m,d}(this,this.document),Modernizr.addTest("filereader",function(){return!!(window.File&&window.FileList&&window.FileReader)}),function(){var e,t,n;return this.localStorage||this.globalStorage||(e=document.createElement("div"),e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e),!e.addBehavior)?void 0:(e.addBehavior("#default#userdata"),n=this.localStorage={length:0,setItem:function(n,o){return e.load("localStorage"),n=t(n),e.getAttribute(n)||this.length++,e.setAttribute(n,o),e.save("localStorage")},getItem:function(n){return e.load("localStorage"),n=t(n),e.getAttribute(n)},removeItem:function(n){return e.load("localStorage"),n=t(n),e.removeAttribute(n),e.save("localStorage"),this.length--,0>this.length?this.length=0:void 0},clear:function(){var t,n;for(e.load("localStorage"),n=0;t=e.XMLDocument.documentElement.attributes[n++];)e.removeAttribute(t.name);return e.save("localStorage"),this.length=0},key:function(t){return e.load("localStorage"),e.XMLDocument.documentElement.attributes[t]}},t=function(e){return e.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")},e.load("localStorage"),n.length=e.XMLDocument.documentElement.attributes.length)}(),function(){"use strict";var e,t,n,o,i,r,a,A,s,d,p;i="~Pix2pix~ \nПлагин для pixelperfect верстки. \n\nГорячие клавиши: \n[ ` ] — показать/скрыть изображение \n[ shift + ` ] — закрепить/открепить позицию и прозрачность \n[ стрелки ] — смещение изображение на 1px \n[ shift + стрелки ] — смещение изображение на 10px \n[ + ][ - ] — изменение прозрачности изображения на 0.1 \n[ ctrl + i ] — заменить изображение \n[ * ] — показать/скрыть границы элементов \n[ ctrl + * ] — изменить цвет границы элементов \n[ alt + r ] — сброс настроек плагина \n\nДополнительную информацию о плагине можно прочитать на странице: github.com/ymatuhin/pix2pix \n\nОткрыть эту страницу в новом окне?",function(){var e;return e=function(e){document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&e()})},e(function(){return t.init()}),window.onload=function(){return t.init()}}(),t={counter:0,first:!1,power:!1,pin:!1,keys:function(){return e("keydown",document,function(e){return e=e||window.event,e.altKey&&82===e.keyCode?(o.clearAll(),location.reload(),!1):void 0})},init:function(){return 0===this.counter?(this.counter++,this.keys(),r.layout.generate(),a.layout.cssLoad(),r.onLocalStorage()?(this.first=!1,Modernizr.filereader&&Modernizr.draganddrop?(a.layout.generate("drop"),a.layout.hideTextBox()):(a.layout.generate("text"),a.layout.hideTextBox()),r.init(),s.init(),A.init(),p.init()):(this.first=!0,Modernizr.filereader&&Modernizr.draganddrop?(a.layout.generate("drop"),a.init("drop")):(a.layout.generate("text"),a.init("text")))):void 0}},r={elem:"",path:"",layout:{generate:function(){var e,t;return t=document.createElement("img"),t.id="pix2pix",t.style.position="absolute",t.style.left="50%",t.style.display="none",t.style.zIndex=1e4,t.src="",e=document.body.firstChild,document.body.insertBefore(t,e),r.elem=document.getElementById("pix2pix")},show:function(){var e;t.power=!0,a.status=!1;try{r.elem.style.display="block",a.eShadow.style.display="none"}catch(n){e=n}return this.save()},hide:function(){var e;t.power=!1,a.status=!0;try{r.elem.style.display="none",a.eShadow.style.display="block"}catch(n){e=n}return this.save()},toggle:function(){return t.power===!0?this.hide():this.show(),console.log("app.power",t.power)},get:function(){return t.power="true"===o.get("power")||o.get("power")===!0?!0:!1},save:function(){return o.save("power",t.power)},keys:function(){return e("keydown",document,function(e){return e=e||window.event,192===e.keyCode?(r.layout.toggle(),!1):void 0})}},init:function(){return this.layout.get(),this.layout.keys(),this.get(),t.power?this.set():void 0},onLocalStorage:function(){return this.get(),null===this.path||"undefined"===this.path||""===this.path?!1:!0},set:function(){return this.elem.src=this.path,this.elem.onload=function(){return r.layout.show(),d.init(),a.layout.hide()},this.save()},get:function(){return this.path=o.get("path")},save:function(){return o.save("path",this.path)},change:function(e){return this.path=e,this.set()}},a={eShadow:"",eTextBox:"",eSubmit:"",eTextSubmit:"",eFileUlpoad:"",eForm:"",eCanvas:"",dragClass:"pp-drag",loadingClass:"b-pp-loading",status:!1,layout:{generate:function(e){var t,n,o,i;return i="",e=e||"text","text"===e?i='					<p>Enter url to image file</p>					<form action="#" id="b-pp-formFile">						<input type="text" id="b-pp-drop__text" placeholder="../img/index.jpg"> <span class="b-pp__btn" id="b-pp-drop__submit">Send</span>					</form>':"drop"===e&&(i='					<p>Drag\'n\'drop image file</p>					<p>OR</p>					<span class="b-pp-drop__file-box b-pp__btn">BROWSE<input type="file" id="b-pp-drop__file"></span>'),o='<div id="b-pp-drop" class="b-pp-drop">				<div class="b-pp-drop__border">					<canvas id="b-pp-drop__canvas"></canvas>					<div id="b-pp-drop__text-box" class="b-pp-drop__text-box">'+i+"					</div>				</div>			</div>",o=o.replace(/\t/g,""),t=document.createElement("div"),t.innerHTML=o,n=document.body.firstChild,document.body.insertBefore(t,n),a.eShadow=document.getElementById("b-pp-drop"),a.eTextBox=document.getElementById("b-pp-drop__text-box"),a.eFileUlpoad=document.getElementById("b-pp-drop__file"),a.eForm=document.getElementById("b-pp-formFile"),a.eSubmit=document.getElementById("b-pp-drop__submit"),a.eTextSubmit=document.getElementById("b-pp-drop__text"),a.eCanvas=document.getElementById("b-pp-drop__canvas")},cssLoad:function(){var e,t;return t=document.createElement("style"),t.textContent='			.b-pp-drop{position:fixed;padding:30px;top:0;left:0;right:0;bottom:0;z-index:9999;background:#000;background:rgba(0,0,0,0.7);}			.b-pp-drop__border{position:relative;-webkit-border-radius:30px;border-radius:30px;height:100%;padding:3px;text-align:center;white-space:nowrap;}			.b-pp-loading .b-pp-drop__border{background-image:url("data:image/gif;base64,R0lGODlhMAAwAKEAAPT29Pz6/PT6/P///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgADACwAAAAAMAAwAAACdZyPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+gH0fmAK+IZEgUlATAKMJaFyyCQhn77oyEldHrM9q2ia9YbAVDGIDEir0+YPeq0WCAKBeZ1uz+P3937+DRcoOEhYaHiImKi4yNjo+AgZKRlZAAAh+QQJCgAEACwAAAAAMAAwAIL09vT8/vz8+vz0+vz///8AAAAAAAAAAAADe0i63B4gguCqvXiJOLL/VjAMFGiaQXmubOu+cCzPdG3feK7vfO//wKBwSCwaj8ikcslsOp8OiUTA20ivHN4Ai+3srFyJV7cNi6vm866cHufYZjcOHpbf6Fy7Dd8dCAR+gH+BhIOGgoiEfGmMjY6PkJGSk5SVlpeYmZpcCQAh+QQJCgAEACwAAAAAMAAwAIL09vT8/vz8+vz0+vz///8AAAAAAAAAAAADh0i63BsgyhmcvdjCKWv+IBMMHDB4YZqN06m+awvP1zbQuDPcea8EKJ9wSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+12SwKmoFTiKUlk2XKclpiT6LZJLI+8kfH2/ZhP7419ZH9FgWVMhRw7AgIDi42MjpGQk4+Vjoh1mZqbnJ2en6ChoqOkpaadCQAh+QQJCgAEACwAAAAAMAAwAIL09vT8/vz8+vz0+vz///8AAAAAAAAAAAADj0i63AEwyglCuzg3QTsYWigqweBJgzWu2HNCKiszrgfO+GJ2d56XlJRvWIv0hj8Ucrk7Ln8D4RMZiE2v2Kx2y+16v+CweEwum8/otHrNbru9FAGY8/qAdy/nlp6/1+1ffCd6WniDfnWEWYY2iH1fjDwDAgKTlZSWmZibl52ZkX+hoqOkpaanqKmqq6ytrhEJACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAOVSLqsATDKSUFoOGdR+xxaGAaD5w2XqDaPWaVr7LifbCslDYC3TdKo3q1l4gltuY7xiFQyhb8P7OmjLKnNyBWb3XJlpOD3GJiOz+i0es1uu9/wuHxOr9vv+HyaInBzXF5nSSd+QG6DTm1/RYeGbYgVgWOQVo2AlkUDAgKanJudoJ+inqSglDqoqaqrrK2ur7CxsrO0qAkAIfkECQoABAAsAAAAADAAMACC9Pb0/P78/Pr89Pr8////AAAAAAAAAAAAA6lIutwaIMoZg7vYhSB6H1QIDF63ZSjBiWw7WGkWgG0dvXEK2fWQxzteyPeL0YQSYlF3FA6US1TQGf01e9XfjIfL5rYuqFeHHRefIrGZOYSttc3nOxqUz6M09T1n39PdfoGCg4SFhoeIiYqLjI2OayEChgJchldpk5WFl0OZNnp7nBSgd6ITpHOmSZaahKo3JAKxsx+1sra0t7KvSL2+v8DBwsPExcbHyMUJACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAO0SLrcGiDKGYO7ODNBOxhaKBKQN4Fj6gzmqb5L2X6wFty4wM5fIPi42oPDKw4sQlKxiEwqlyaUU7GDuqaxqvWIZci23cbXGF5BpeWssZmOkdvmFhrO0F7pjoC9h8foKXN9dXeCFzuBhV4DXIkZN42QkZKTlJWWlh0ChUQziGl7HZ5lnHKFoICbb32nhHSsEqJhrxGxXbM0greLAjq8A77AvcK/w8GLVsjJysvMzc7P0NHS080JACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAO4SLrcGiDKGYO7ODNBOxhaKBKQN4Fj6gzmqb5L2X4wzM10rbI4qo+ylu8XCpqGxEdgyeTNBszoL3DD9SxTqxVLNGpdSYXzK0F2ySdumISOmMNj63sdF64xgXoHesfL+xl6ZYAagnOED3V8iBleh4xiYJCFbpMieYuWGkuanZ6fdx0CmlV2loKSkKVHmqiDlqsej3R/p7WTrpW2Pa1yAwICv8HAwsXEx8PJxbltzc7P0NHS09TV1tdaCQAh+QQJCgAEACwAAAAAMAAwAIL09vT8/vz8+vz0+vz///8AAAAAAAAAAAADyUi63BogyhmDuzgzQTsYWigSkDeBY+oM5qm+S9l+MMzNdK2yOKqPspbvFwqahsQMb4ZMXoyeprNxY041S+H1ERB4BYHs8esNWHRdnPpzRovXp/YPCo9Ia/T1XfdW7911H39ogYM/fVFbDmF+cooPiHaGTnl2j0pHlxmMFAOOmgyckqAaQZOaPKegA6oYHQIvZi9Vdh2tNbSZpASRErc2fru8wbu9lsXEpMY5ysmrfgNe0QLT1dLX1NjW1MuB3t/g4eLj5OXm5+jlCQAh+QQJCgAEACwAAAAAMAAwAIL09vT8/vz8+vz0+vz///8AAAAAAAAAAAADz0i63BogyhmDuzgzQTsYWigSkDeBY+oM5qm+S9l+MMzNdK2yOKqPspbvFwqahsQMb4ZMXoyeprNxY041S+E1A+1ItyRcDtzIHsmOLuWrC7gFAbg5Gq+7f3GxeGDB63F9RGp/bC9zhFsBhz2BU4NaZI9eaAqLk5QklhJ8mA97nQuahWCLo2CKXo0qHQJAZqZhPSlZsASaEbW2uDu3uYqcs58qdypVkJ23Y5jJuTrMoLqyoMwDAgLV19bY29rd2d/byX/j5OXm5+jp6uvs7e7qCQAh+QQJCgAEACwAAAAAMAAwAIL09vT8/vz8+vz0+vz///8AAAAAAAAAAAAD1Ei63P4wykmrhWEAzbcPV7gIQGmeJSiGAeoC6mqR7znIV1ubN15pu1LPN9EFh8QI7ZicAJnNiHGHjDamtap18aRuH9iX9rv0fhvd7PkaFK4ZYdd4mxa/F3HUXBYQDPx+dXJ/hAIxIn1tihuHiIKLQo0reZCSfJBydJg8Z49qZ5R2a6E2dwSenCEuAhIZR5ZcepmtUBGobk6fEgO3ewx1vrFtwcK4FLcbFlPECsjMzcbHvSG8LIrPOM6mp9d/gN/e4QLg4+LgyJvp6uvs7e7v8PHy8/AJACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAPVSLrc/jDKSau9OOvNu/9gEwzCQJrlGYRRALxw/K7sI8g4MNSPm8c7XmPwAwpFRVjwqLgldcwF8blk+pLV47WYFU6xUcX21+U5weEvN0wY58o1Nw7OUpPZchk9dF6zAgECggIjTzqDgoAcgYaGAzQbhY1kkIuTdyB5jjV2jXsMOAI9nVhlY51wmm8QpHoRrXOvsC90kliVQ5stsyYSs7QTqp+/UBOtnwQmVBS2SrgPxMhtar0U0RbKwBXRJCWC3eAptOHe5SfEl+nq6+zt7u/w8fLz9EUJACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAPDSLrc/jDKSau9OOvNu/9gKI5kaZ5EIAjD2rJugCoBYN+4Lc9C7gODWeqXC84GRJwRVUvalqemE2pCOoFCaZJa6l25JOs0e8XOtETwSLwlf4Xe8bGsFqF/9dDdl88E/oABbGmBgBwqZXQ7ED4CDHuJOIsEcW2PkWkNg3gOlZhmDAObRQ6Cn0+TCqOkpaeiD6tKEJCZsHQRsaywuaClvECpobcRtE95v32ilrh0L84uLKuiMNTOv6fY2drb3N3e3+Dh4mUJACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAO1SLrc/jDKSau9OOvNu/9gKI5kaZ5oqq7sFwwALMd0oApAru+5nQa8IMCHwgl3AxXwqEumYMycE7WMTk9Gqwqq/UWlym9sK76aqkxzKZsmf9Uk9BE+kgvpkaBAwm1H5H1gf2V8hAoBAgOJiYF3io8CRGxzC4hiZZKGh42XTUQEnDxmdp09DaFIDqSXaqhND66UDrFjsKW1s5oNq7K5b4qLiwO0UsDGkcS3ysvMzc7P0NHS09TQCQAh+QQJCgAEACwAAAAAMAAwAIL09vT8/vz8+vz0+vz///8AAAAAAAAAAAADski63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cMwFgzDUt40HagD8wOCPlxIIj4BBDylUpgbMoBPli/6mJ6M1qYJusaaqFVwSR8kk73j5VWnXmKNAoj5LzMkjeoFH7hV1TH8EfXoSb3YRiIJ0W1wRgX50kU13joOLkgoBAQKeOpefnpwLlJWbpo5SRASZhnypqgOsBLFXDYWqtwy2STU2oLpNv8TCxsfIycrLzM3Oz9DRywkAIfkECQoABAAsAAAAADAAMACC9Pb0/P78/Pr89Pr8////AAAAAAAAAAAAA51Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAsz3TtBoIw5LvOB6oAYEgsDoEpgXEJGASZRmdqAC1KUcLq8HrKarkmqrb5HIMpS4FE/JV4t8sz4w2VL9hVu4LO1BOUZhKAbRF4dWtjZIWGcW6JfoN5iIGFj46UEIyNlZgPfJsQn1GTXz2mPJpRpz46qYmvsLGys7S1tre4ubq7vAAJACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAObSLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94DgcD0P++YEAlABiPSOMwFUg6AUtU8YkcqJrUoxXjFEh6WeMWgtU6x49yFu0Ah9kNNRXOmL4l9vU3LN7z6QsDbnMSck+ACnmEEYOLEI2HhXw+fneMk4gEhmeSf5VrAwICoaOigpikqaaQk62ur7CxsrO0tba3uLm6RwkAIfkECQoABAAsAAAAADAAMACC9Pb0/P78/Pr89Pr8////AAAAAAAAAAAAA41Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAsz3Rt33iu73wvBgPBIDgUEgMZgHIpkASW0CgyMohaAQOJ4BrNRrbcpRfyDCvHj7IZ7QCvJVUz1imff+vsRvxNxdPleQxDgHB+d4QRamGBC3uLhYgQjlxFQgKWRnhBmJuDdZ+goaKjpKWmp6ipqqusXAkAIfkECQoABAAsAAAAADAAMACC9Pb0/P78/Pr89Pr8////AAAAAAAAAAAAA4JIutz+MMpJq7046827/2AojmRpnmiqrmzrvnAsz3Rt33iu73zvL4CgUKASCI/IgWqAbAKUKaPzCIUEpseAhIkNVh/SrjbC7X4d1+5TEsaeG2U3W72OpM1b+psRn+4Xd3J2enlqAwMCAoiKiYd6i5CNfXSUlZaXmJmam5ydnp+goUcJACH5BAkKAAQALAAAAAAwADAAgvT29Pz+/Pz6/PT6/P///wAAAAAAAAAAAAN7SLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987y+AoFCgEgiPyIFqgGwClCmj8whFMafC6kmKfS67Qa3p2hU3Asz0c80MSLhYMwM+dUfIcQm+rgc/BwICgIKBA3tOg4mFdH6Njo+QkZKTlJWWl5iZmkgJADs=");background-position:50%;background-repeat:no-repeat}			.pp-drag .b-pp-drop__border{padding:0;border:3px dashed #fff}			.b-pp-drop__border:after{display:inline-block;content:\'\';width:0;height:100%;vertical-align:middle}			.b-pp-drop__text-box{position:relative;z-index:5;display:inline-block;vertical-align:middle;padding:10px;border:1px solid #165563;-webkit-border-radius:4px;border-radius:4px;background:#f2f6f6;-webkit-box-shadow:0 0 20px 0 #333;box-shadow:0 0 20px 0 #333;}			.pp-drag .b-pp-drop__text-box{display:none}			.b-pp-drop__text-box p{font-size:32px;text-transform:uppercase;font-family:"Trebuchet MS","Helvetica CY",sans-serif;color:#165563;padding:0 10px;}			.b-pp-drop__text-box p:first-child{margin-top:0 !important}			.b-pp-drop__text-box p + p{font-size:18px}			.b-pp-drop__text-box p,.b-pp-drop__text-box input{margin:10px 0}			.b-pp-drop__file-box{font-family:"Trebuchet MS","Helvetica CY",sans-serif;position:relative;margin:0 auto;text-align:center;font-size:32px;}			.b-pp-drop__file-box input{position:absolute;cursor:pointer;left:0;top:0;width:100%;height:100%;opacity:0;}			#b-pp-drop__canvas{position:absolute;z-index:4;top:0;left:0;width:100%;height:100%;background:#fff;opacity:0;}			#b-pp-formFile{font-size:0}			#b-pp-drop__text{font-family:"Trebuchet MS","Helvetica CY",sans-serif;display:inline-block;font-size:18px;vertical-align:top;padding:10px;height:28px;width:298px;border:1px solid #165563;-webkit-border-radius:3px;border-radius:3px;margin-bottom:0;margin-top:0}			#b-pp-drop__submit{font-size:18px;margin:0 0 0 10px;vertical-align:top;font-family:"Trebuchet MS","Helvetica CY",sans-serif;padding:0 20px;display:inline-block}			.b-pp__btn{display:block;text-transform:uppercase;color:#fff;text-align:center;line-height:46px;cursor:pointer;height:46px;background-color:#5a99a7;border:0;border-bottom:4px solid #276674;-webkit-border-radius:3px;border-radius:3px}			.b-pp__btn:hover{background-color:#6baab8}			.b-pp__btn:active{height:50px;line-height:50px;border-bottom:0;-webkit-box-shadow:inset 0 2px 2px 1px #276674;box-shadow:inset 0 2px 2px 1px #276674}			',e=document.body.firstChild,document.body.insertBefore(t,e)},show:function(){var e;a.status=!0,t.power=!1;try{r.elem.style.display="none",a.eShadow.style.display="block"}catch(n){e=n}return this.showTextBox()},hide:function(){var e;a.status=!1,t.power=!0;try{return r.elem.style.display="block",a.eShadow.style.display="none"}catch(n){e=n}},showTextBox:function(){return n.remove(a.eShadow,a.loadingClass),a.eTextBox.style.display="block"},hideTextBox:function(){return n.add(a.eShadow,a.loadingClass),a.eTextBox.style.display="none"}},init:function(e){if("text"===e){if(!this.status)return this.status=!0,this.inputTextLoad()}else if("drop"===e&&!this.status)return this.status=!0,this.inputFileLoad(),this.dropLoad()},inputTextLoad:function(){return this.eSubmit.onclick=function(){return a.endFileLoad(a.eTextSubmit.value)},this.eForm.onsubmit=function(){return a.endFileLoad(a.eTextSubmit.value)}},inputFileLoad:function(){return this.eFileUlpoad.addEventListener("change",function(e){return a.fileUpload(e,function(e){return a.endFileLoad(e)})},!1)},dropLoad:function(){var e;return e=function(e){var t;t=document.getElementsByTagName("html")[0],n.add(t,a.dragClass),e.preventDefault()},this.eCanvas.addEventListener("dragover",e,!1),this.eTextBox.addEventListener("dragover",e,!1),this.eCanvas.addEventListener("drop",function(e){var t;t=document.getElementsByTagName("html")[0],n.remove(t,a.dragClass),a.fileUpload(e,function(e){return a.endFileLoad(e)})},!1),this.eCanvas.addEventListener("dragleave",function(){var e;e=document.getElementsByTagName("html")[0],n.remove(e,a.dragClass)},!1)},fileUpload:function(e,t){var o,i,r,a,A;o="",r=null,e.dataTransfer?r=e.dataTransfer.files[0]||null:this.eFileUlpoad.files&&(r=this.eFileUlpoad.files[0]||null),"undefined"!=typeof FileReader&&-1!==r.type.indexOf("image")?(a=new FileReader,A=document.getElementById("b-pp-drop__text-box"),i=document.getElementById("b-pp-drop"),A.style.display="none",n.add(i,"b-pp-loading"),a.onload=function(e){return o=e.target.result,t&&t(o)},a.readAsDataURL(r)):(this.eFileUlpoad.value="",alert("Upload file is not image.")),e.preventDefault()},endFileLoad:function(e){return a.layout.hideTextBox(),null==e||""===e?!1:(r.change(e),t.first?(s.init(),A.init(),p.init()):void 0)},keys:{bind:function(){},unbind:function(){}}},A={interVl:"",opacity:.7,init:function(){return this.get(),this.set(),this.keys()},set:function(){return r.elem.style.opacity=this.opacity,r.elem.style.filter="alpha(opacity="+100*this.opacity+")",this.save()},get:function(){return null!==o.get("opacity")?this.opacity=1*o.get("opacity"):void 0},save:function(){return clearTimeout(this.interVl),this.interVl=setTimeout(function(){return o.save("opacity",A.opacity)},200)},change:function(e){return"+"===e?1!==1*this.opacity&&(this.opacity=(1*this.opacity+.1).toFixed(1)):0!==1*this.opacity&&(this.opacity=(this.opacity-.1).toFixed(1)),this.set()},keys:function(){return e("keydown",document,function(e){if(e=e||window.event,!t.pin){if(107===e.keyCode||e.shiftKey&&187===e.keyCode)return A.change("+"),!1;if(109===e.keyCode||e.shiftKey&&189===e.keyCode)return A.change("-"),!1}})}},p={sPower:!0,sColor:"",init:function(){return this.keys(),this.get(),this.sPower===!0?this.set():this.remove()},set:function(){var e,t,n;if(null===document.getElementById("pix2pix__shadow"))n=document.createElement("style"),n.id="pix2pix__shadow",n.textContent="* {-webkit-box-shadow: 0px 0px 5px 1px #"+this.sColor+" ;box-shadow: 0px 0px 5px 1px #"+this.sColor+";}",t=document.body.firstChild,document.body.insertBefore(n,t);else try{document.getElementById("pix2pix__shadow").innerHTML="* {-webkit-box-shadow: 0px 0px 5px 1px #"+this.sColor+" ;box-shadow: 0px 0px 5px 1px #"+this.sColor+";}"}catch(o){e=o}return this.save()},remove:function(){var e;if(null!==document.getElementById("pix2pix__shadow"))try{document.getElementById("pix2pix__shadow").innerHTML=""}catch(t){e=t}return this.save()},get:function(){return this.sPower=o.get("shadowPower")===!1||"false"===o.get("shadowPower")?!1:!0,this.sColor=null===o.get("shadowColor")?"165563":o.get("shadowColor")},save:function(){return o.save("shadowPower",this.sPower),o.save("shadowColor",this.sColor)},changeColor:function(){return this.sColor=this.randomHexColor(),this.set()},randomHexColor:function(){return""+Math.floor(16777215*Math.random()).toString(16)},toggle:function(){return console.log("toggle"),this.sPower===!0?(this.sPower=!1,this.remove()):(this.sPower=!0,this.set()),this.save()},keys:function(){return e("keydown",document,function(e){if(e=e||window.event,!t.pin){if(106===e.keyCode&&e.ctrlKey||e.shiftKey&&e.ctrlKey&&56===e.keyCode)return p.changeColor(),!1;if(106===e.keyCode||e.shiftKey&&56===e.keyCode)return p.toggle(),!1}})}},s={state:!1,init:function(){return this.keys(),this.get(),this.save()},get:function(){return this.state=o.get("pin")===!0||"true"===o.get("pin")?!0:!1,t.pin=this.state},save:function(){return o.save("pin",this.state)},change:function(){return this.state===!0?(this.state=!1,t.pin=this.state,alert("~Pix2pix~\n\nИзображение откреплено!")):(this.state=!0,t.pin=this.state,alert("~Pix2pix~\n\nИзображение закреплено!\n\nНажмите [ shift + ` ] для открепления.")),this.save()},keys:function(){return e("keydown",document,function(e){return e=e||window.event,e.shiftKey&&192===e.keyCode?(s.change(),!1):void 0})}},d={left:0,top:0,interV:"",init:function(){var e;return this.keys(),t.first?(e=-1*(r.elem.width/2),this.change(e,this.top)):(this.get(),this.set())},set:function(){return r.elem.style.marginLeft=this.left+"px",r.elem.style.top=this.top+"px",this.save()},get:function(){return this.top=1*o.get("top")||0,this.left=1*o.get("left")||0},save:function(){return clearTimeout(this.interV),this.interV=setTimeout(function(){return o.save("top",d.top),o.save("left",d.left)},400)},change:function(e,t){return this.left=1*e,this.top=1*t,this.set()},keys:function(){return e("keydown",document,function(e){return e=e||window.event,32===e.keyCode&&e.shiftKey?(d.change(d.left,d.top-10),!1):32===e.keyCode?(d.change(d.left,d.top-1),!1):40===e.keyCode&&e.shiftKey?(d.change(d.left,d.top+10),!1):40===e.keyCode?(d.change(d.left,d.top+1),!1):37===e.keyCode&&e.shiftKey?(d.change(d.left-10,d.top),!1):37===e.keyCode?(d.change(d.left-1,d.top),!1):39===e.keyCode&&e.shiftKey?(d.change(d.left+10,d.top),!1):39===e.keyCode?(d.change(d.left+1,d.top),!1):void 0})}},e=function(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t[e]=n},o={save:function(e,t){var n;e="pix2pix_"+e;try{return localStorage.setItem(e,t)}catch(o){return n=o,document.cookie=e+"="+window.escape(t)}},get:function(e){var t,n;e="pix2pix_"+e;try{return localStorage.getItem(e)}catch(o){return t=o,n=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)"),n?window.unescape(n[2]):null}},clearAll:function(){var e,t,n,o,i,r,a;try{localStorage.clear()}catch(A){n=A}for(t=document.cookie.split(";"),i=0,a=[];i<t.length;)e=t[i],o=e.indexOf("="),r=o>-1?e.substr(0,o):e,document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT",a.push(i++);return a}},n={add:function(e,t){return-1===e.className.indexOf(t)?e.className+=" "+t:void 0},replace:function(e,t,n){return e=document.getElementsByTagName("html")[0],e.className=e.className.replace(new RegExp(t,"g"),n)},remove:function(e,t){return this.replace(e,t,"")}}}.call(this);